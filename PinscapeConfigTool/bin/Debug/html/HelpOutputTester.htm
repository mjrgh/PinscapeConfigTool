<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
   <link rel="stylesheet" href="main.css"/>
   <title>Output Port Tester</title>
</head>
<body class="help">

<h1>
   <img style="float: right;" src="h1OutputTester.png">
   Output Port Tester
   <img style="visibility: hidden; vertical-align: middle;" src="h1OutputTester.png">
</h1>

<div>

   <p>
	  This window lets you test the physical output port wiring
	  on your Pinscape unit.
   </p>

   <p>	  
	  The list shows each output port and its pin location
      on the KL25Z, external chip, or expansion boards.
   </p>

   <p>
	  If you need a reminder of the pin location for a given
      output port, move the mouse over the port's row in the
	  the list on the left.  This will highlight the location
      of the pin on the diagram of the KL25Z or expansion
      board on the right.
   </p>

   <p>
	  Ports can be either PWM-capable or Digital.  PWM outputs
	  can be set to a range of brightness/intensity levels, while
	  Digital outputs can only be turned ON and OFF.  The type of
	  each port depends on the physical output hardware and your
	  selections on the Settings page.  All KL25Z GPIO pins can
	  be used as Digital outputs, while only a subset of GPIO pins
	  are PWM-capable, because the KL25Z hardware only provides
	  the necessary internal wiring for PWM on certain pins.  The
	  Settings page lets you assign the mode (PWM or Digital) for
	  each pin, and only lets you select PWM for pins that have
	  the necessary internal wiring.  TLC5940 ports are always
	  PWM, and 74HC595 ports are always digital.
   </p>

   <p>
      For a PWM port, the output list shows a slider
	  control that lets you set a brightness level for the port,
	  from 0 to 255.  0 is OFF and 255 is 100% brightness.
      There's also an ON/OFF button next to each slider that
      you can use to switch the port on and off without
      changing the brightness setting.
   </p>

   <p>
	  For a Digital port, the list only includes an ON/OFF button.
	  Click the button to toggle the output status.
   </p>

   <h2>Night Mode</h2>

   <p>
	  The Night Mode button lets you turn night mode on and off.
	  This lets you test that the right outputs are marked as
	  "noisy" in the port setup and that night mode disables
	  them properly when engaged.  When night mode is engaged,
	  all ports marked "noisy" in the setup are disabled, so
	  those physical outputs will stay off even if you turn
	  them on or turn their brightness up in the list.  Note
	  that the <b>software</b> on/off and brightness settings
	  for "noisy" ports aren't affected; the ports are simply
	  cut off at the physical output pins.  So you can still
	  adjust the software on/off and brightness settings for
	  noisy ports while night mode is engaged, and those settings
	  will be applied to the physical ports as soon as you
	  disengage night mode.
   </p>

   <h2>Troubleshooting Visual Pinball, DOF, and other software</h2>

   <p>
	  The Output Tester window can be helpful if you're having problems getting
	  your output devices to work with your pinball player software.
   </p>

   <p>
	  The output tester communicates with the KL25Z directly
	  via USB.  It doesn't depend on any other shared software
	  that you might need for other programs, such as DOF,
	  LEDWIZ.DLL, etc.  That makes it easier to isolate the
      source of any problems:
   </p>

   <ul>
      <li>If the outputs work properly in the Output Tester
      window, it confirms that your
      physical wiring is working properly, that the KL25Z is
      configured correctly, and that the KL25Z USB connection
      is working.  That rules out problems with your Pinscape
      hardware setup, so any problems with other software must
      lie in the other software.  If you're using Visual Pinball,
      the place to start looking is usually DOF (DirectOutput
      Framework).  DOF has its own configuration that you have
      to set up to match your Pinscape port setup.
      <p>
         For help with DOF issues, see the
         <a target="_blank" href="http://mjrnet.org/pinscape/BuildGuideV2/BuildGuide.php?sid=DOF#DOFtroubleshooting"</a>DOF Troubleshooting</a>
         section in the Pinscape Build Guide.
      </p>

      <li>If the outputs aren't working in the output tester, there's
      probably something wrong with the physical wiring or with
      the Pinscape firmware configuration.  The first step is to
      verify that the outputs are configured correctly in the
      Settings page: make sure that the physical wiring matches
      the pin assignments, and that there aren't any error or
      warning icons displayed next to pin assignments anywhere on
      the Settings page.  The tool does lots of error checking to help
	  ensure the setup is correct.  It checks that you haven't
	  assigned the same pin to multiple functions, and that each pin
	  is capable of performing its assigned function.  If everything
	  looks right in the settings, the next place to look is the
	  physical wiring.  Start by verifying that the wiring is what
	  you intended: that the right things are connected to the right
	  pins, power supplies, etc.  If everything matches your plans,
	  a good next step is to get out a voltmeter and check
	  continuity through each circuit, to make sure there
	  aren't any loose wires, broken wires, or bad solder
	  connections.
   </ul>

</div>

</body>
</html>
